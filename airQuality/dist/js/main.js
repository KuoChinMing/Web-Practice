const card={props:["data","stared"],template:"#card",methods:{star(){this.$emit("star",this.data)}},computed:{status(){switch(this.data.Status){case"普通":return"status-normal";case"對敏感族群不健康":return"status-minor-unhealthy";case"對所有族群不健康":return"status-unhealthy";case"非常不健康":return"status-very-unhealthy";case"危害":return"status-danger";default:return}}}};new Vue({el:"#app",data:{location:[],staredData:[],data:[],filterWord:"default"},methods:{star(t){this.staredData.find(a=>a.SiteId===t.SiteId)?this.staredData=this.staredData.filter(a=>a.SiteId!==t.SiteId):this.staredData.push(t)}},watch:{staredData(){localStorage.setItem("staredData",JSON.stringify(this.staredData))}},computed:{filteredData(){return"all"===this.filterWord||"default"===this.filterWord?this.data.sort((t,a)=>t.AQI-a.AQI):this.data.filter(t=>t.County===this.filterWord).sort((t,a)=>t.AQI-a.AQI)}},created(){const t=new XMLHttpRequest;t.open("GET","https://opendata.epa.gov.tw/api/v1/AQI?format=json"),t.send(),t.onload=t=>{const a=JSON.parse(t.currentTarget.response);this.data=a,this.staredData=JSON.parse(localStorage.getItem("staredData"))||[],a.forEach(t=>{this.location.includes(t.County)||this.location.push(t.County),this.staredData.forEach(a=>{a.SiteId===t.SiteId&&(a=t)})})}},components:{card:card}});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiY2FyZCIsInByb3BzIiwidGVtcGxhdGUiLCJtZXRob2RzIiwiW29iamVjdCBPYmplY3RdIiwidGhpcyIsIiRlbWl0IiwiZGF0YSIsImNvbXB1dGVkIiwiU3RhdHVzIiwiVnVlIiwiZWwiLCJsb2NhdGlvbiIsInN0YXJlZERhdGEiLCJmaWx0ZXJXb3JkIiwiZmluZCIsIml0ZW0iLCJTaXRlSWQiLCJmaWx0ZXIiLCJwdXNoIiwid2F0Y2giLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwiSlNPTiIsInN0cmluZ2lmeSIsInNvcnQiLCJwcmV2IiwiY3VycmVudCIsIkFRSSIsIkNvdW50eSIsInhociIsIlhNTEh0dHBSZXF1ZXN0Iiwib3BlbiIsInNlbmQiLCJvbmxvYWQiLCJyZXN1bHQiLCJyZXNwb25zZSIsInBhcnNlIiwiY3VycmVudFRhcmdldCIsImdldEl0ZW0iLCJmb3JFYWNoIiwiaW5jbHVkZXMiLCJjb21wb25lbnRzIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxLQUFPLENBQ1hDLE1BQU8sQ0FBQyxPQUFRLFVBQ2hCQyxTQUFVLFFBQ1ZDLFFBQVMsQ0FDUEMsT0FDRUMsS0FBS0MsTUFBTSxPQUFRRCxLQUFLRSxRQUc1QkMsU0FBVSxDQUNSSixTQUNFLE9BQVFDLEtBQUtFLEtBQUtFLFFBQ2hCLElBQUssS0FDSCxNQUFPLGdCQUNULElBQUssV0FDSCxNQUFPLHlCQUNULElBQUssV0FDSCxNQUFPLG1CQUNULElBQUssUUFDSCxNQUFPLHdCQUNULElBQUssS0FDSCxNQUFPLGdCQUNULFFBQ0UsV0FNVixJQUFJQyxJQUFJLENBQ05DLEdBQUksT0FDSkosS0FBTSxDQUNKSyxTQUFVLEdBQ1ZDLFdBQVksR0FDWk4sS0FBTSxHQUNOTyxXQUFZLFdBRWRYLFFBQVMsQ0FDUEMsS0FBS0csR0FDRUYsS0FBS1EsV0FBV0UsS0FBS0MsR0FBUUEsRUFBS0MsU0FBV1YsRUFBS1UsUUFHckRaLEtBQUtRLFdBQWFSLEtBQUtRLFdBQVdLLE9BQ2hDRixHQUFRQSxFQUFLQyxTQUFXVixFQUFLVSxRQUgvQlosS0FBS1EsV0FBV00sS0FBS1osS0FRM0JhLE1BQU8sQ0FDTGhCLGFBQ0VpQixhQUFhQyxRQUFRLGFBQWNDLEtBQUtDLFVBQVVuQixLQUFLUSxlQUczREwsU0FBVSxDQUNSSixlQUNFLE1BQXdCLFFBQXBCQyxLQUFLUyxZQUE0QyxZQUFwQlQsS0FBS1MsV0FDN0JULEtBQUtFLEtBQUtrQixLQUFLLENBQUNDLEVBQU1DLElBQVlELEVBQUtFLElBQU1ELEVBQVFDLEtBRXZEdkIsS0FBS0UsS0FBS1csT0FBT0YsR0FBUUEsRUFBS2EsU0FBV3hCLEtBQUtTLFlBQVlXLEtBQUssQ0FBQ0MsRUFBTUMsSUFBWUQsRUFBS0UsSUFBTUQsRUFBUUMsT0FHaEh4QixVQUVFLE1BQ00wQixFQUFNLElBQUlDLGVBQ2hCRCxFQUFJRSxLQUFLLE1BRkcsc0RBR1pGLEVBQUlHLE9BQ0pILEVBQUlJLE9BQVNDLElBQ1gsTUFBTUMsRUFBV2IsS0FBS2MsTUFBTUYsRUFBT0csY0FBY0YsVUFDakQvQixLQUFLRSxLQUFPNkIsRUFDWi9CLEtBQUtRLFdBQWFVLEtBQUtjLE1BQU1oQixhQUFha0IsUUFBUSxnQkFBa0IsR0FDcEVILEVBQVNJLFFBQVFqQyxJQUNWRixLQUFLTyxTQUFTNkIsU0FBU2xDLEVBQUtzQixTQUMvQnhCLEtBQUtPLFNBQVNPLEtBQUtaLEVBQUtzQixRQUcxQnhCLEtBQUtRLFdBQVcyQixRQUFReEIsSUFDbEJBLEVBQUtDLFNBQVdWLEVBQUtVLFNBQ3ZCRCxFQUFPVCxTQU1qQm1DLFdBQVksQ0FDVjFDLEtBQUFBIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBjYXJkID0ge1xuICBwcm9wczogWydkYXRhJywgJ3N0YXJlZCddLFxuICB0ZW1wbGF0ZTogJyNjYXJkJyxcbiAgbWV0aG9kczoge1xuICAgIHN0YXIoKSB7XG4gICAgICB0aGlzLiRlbWl0KCdzdGFyJywgdGhpcy5kYXRhKTtcbiAgICB9LFxuICB9LFxuICBjb21wdXRlZDoge1xuICAgIHN0YXR1cygpIHtcbiAgICAgIHN3aXRjaCAodGhpcy5kYXRhLlN0YXR1cykge1xuICAgICAgICBjYXNlICfmma7pgJonOlxuICAgICAgICAgIHJldHVybiAnc3RhdHVzLW5vcm1hbCc7XG4gICAgICAgIGNhc2UgJ+WwjeaVj+aEn+aXj+e+pOS4jeWBpeW6tyc6XG4gICAgICAgICAgcmV0dXJuICdzdGF0dXMtbWlub3ItdW5oZWFsdGh5JztcbiAgICAgICAgY2FzZSAn5bCN5omA5pyJ5peP576k5LiN5YGl5bq3JzpcbiAgICAgICAgICByZXR1cm4gJ3N0YXR1cy11bmhlYWx0aHknO1xuICAgICAgICBjYXNlICfpnZ7luLjkuI3lgaXlurcnOlxuICAgICAgICAgIHJldHVybiAnc3RhdHVzLXZlcnktdW5oZWFsdGh5JztcbiAgICAgICAgY2FzZSAn5Y2x5a6zJzpcbiAgICAgICAgICByZXR1cm4gJ3N0YXR1cy1kYW5nZXInO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9LFxuICB9LFxufTtcblxubmV3IFZ1ZSh7XG4gIGVsOiAnI2FwcCcsXG4gIGRhdGE6IHtcbiAgICBsb2NhdGlvbjogW10sXG4gICAgc3RhcmVkRGF0YTogW10sXG4gICAgZGF0YTogW10sXG4gICAgZmlsdGVyV29yZDogJ2RlZmF1bHQnLFxuICB9LFxuICBtZXRob2RzOiB7XG4gICAgc3RhcihkYXRhKSB7XG4gICAgICBpZiAoIXRoaXMuc3RhcmVkRGF0YS5maW5kKGl0ZW0gPT4gaXRlbS5TaXRlSWQgPT09IGRhdGEuU2l0ZUlkKSkge1xuICAgICAgICB0aGlzLnN0YXJlZERhdGEucHVzaChkYXRhKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc3RhcmVkRGF0YSA9IHRoaXMuc3RhcmVkRGF0YS5maWx0ZXIoXG4gICAgICAgICAgaXRlbSA9PiBpdGVtLlNpdGVJZCAhPT0gZGF0YS5TaXRlSWRcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9LFxuICB9LFxuICB3YXRjaDoge1xuICAgIHN0YXJlZERhdGEoKSB7XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnc3RhcmVkRGF0YScsIEpTT04uc3RyaW5naWZ5KHRoaXMuc3RhcmVkRGF0YSkpO1xuICAgIH0sXG4gIH0sXG4gIGNvbXB1dGVkOiB7XG4gICAgZmlsdGVyZWREYXRhKCkge1xuICAgICAgaWYgKHRoaXMuZmlsdGVyV29yZCA9PT0gJ2FsbCcgfHwgdGhpcy5maWx0ZXJXb3JkID09PSAnZGVmYXVsdCcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5zb3J0KChwcmV2LCBjdXJyZW50KSA9PiBwcmV2LkFRSSAtIGN1cnJlbnQuQVFJKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLmRhdGEuZmlsdGVyKGl0ZW0gPT4gaXRlbS5Db3VudHkgPT09IHRoaXMuZmlsdGVyV29yZCkuc29ydCgocHJldiwgY3VycmVudCkgPT4gcHJldi5BUUkgLSBjdXJyZW50LkFRSSk7XG4gICAgfSxcbiAgfSxcbiAgY3JlYXRlZCgpIHtcbiAgICAvLyBBUEkgcmVzb3VyY2U6IGh0dHBzOi8vb3BlbmRhdGEuZXBhLmdvdi50dy9EYXRhL0NvbnRlbnRzL0FRSS9cbiAgICBjb25zdCBhcGkgPSAnaHR0cHM6Ly9vcGVuZGF0YS5lcGEuZ292LnR3L2FwaS92MS9BUUk/Zm9ybWF0PWpzb24nO1xuICAgIGNvbnN0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgIHhoci5vcGVuKCdHRVQnLCBhcGkpO1xuICAgIHhoci5zZW5kKCk7XG4gICAgeGhyLm9ubG9hZCA9IHJlc3VsdCA9PiB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IEpTT04ucGFyc2UocmVzdWx0LmN1cnJlbnRUYXJnZXQucmVzcG9uc2UpO1xuICAgICAgdGhpcy5kYXRhID0gcmVzcG9uc2U7XG4gICAgICB0aGlzLnN0YXJlZERhdGEgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzdGFyZWREYXRhJykpIHx8IFtdO1xuICAgICAgcmVzcG9uc2UuZm9yRWFjaChkYXRhID0+IHtcbiAgICAgICAgaWYgKCF0aGlzLmxvY2F0aW9uLmluY2x1ZGVzKGRhdGEuQ291bnR5KSkge1xuICAgICAgICAgIHRoaXMubG9jYXRpb24ucHVzaChkYXRhLkNvdW50eSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdXBkYXRlIHN0YXJlZERhdGFcbiAgICAgICAgdGhpcy5zdGFyZWREYXRhLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgICAgaWYgKGl0ZW0uU2l0ZUlkID09PSBkYXRhLlNpdGVJZCkge1xuICAgICAgICAgICAgaXRlbSA9IGRhdGE7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH07XG4gIH0sXG4gIGNvbXBvbmVudHM6IHtcbiAgICBjYXJkLFxuICB9LFxufSk7XG4iXX0=
