let todos=[],id=0;function setData(){window.localStorage.setItem("todoApp",JSON.stringify(todos))}function showTodo(){const t=window.localStorage.getItem("todoApp");t&&(todos=JSON.parse(t),$(".list").empty(),todos.forEach(t=>{$(".list").append(`<div class="list-item ${t.isCompleted?"isCompleted":""}" data-id=${t.id}>\n          <span class="list-item__state">${t.isCompleted?"O":"X"}</span>\n          <pre class="list-item__content">${t.text}</pre>\n          <button class="list-item__action  list-item__button button">${t.isCompleted?"標示成未完成":"標示成已完成"}</button>\n          <button class="list-item__deleted list-item__button button">刪除</button>\n        </div>`)}),id=0===todos.length?0:Number(todos[todos.length-1].id)+1)}$(document).ready(()=>{showTodo(),$(".send").click(()=>{const t=$(".input[name=todo]").val();todos.push({text:t,isCompleted:!1,id:id}),setData(),showTodo(),$(".input[name=todo]").val("")}),$(".list").on("click",".list-item__action",t=>{const o=$(t.target),e=Number(o.parent().attr("data-id"));todos=todos.map(t=>t.id!==e?t:{...t,isCompleted:!t.isCompleted}),setData(),showTodo()}),$(".list").on("click",".list-item__deleted",t=>{const o=$(t.target).parent().attr("data-id");todos=todos.filter(t=>t.id!==Number(o)),setData(),showTodo()}),$(".filter__all").click(()=>{$(".list-item").show()}),$(".filter__isCompleted").click(()=>{$(".list-item").hide(),$(".list-item.isCompleted").show()}),$(".filter__uncompleted").click(()=>{$(".list-item").hide(),$(".list-item:not(.isCompleted)").show()})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbInRvZG9zIiwiaWQiLCJzZXREYXRhIiwid2luZG93IiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsIkpTT04iLCJzdHJpbmdpZnkiLCJzaG93VG9kbyIsInRvZG9EYXRhIiwiZ2V0SXRlbSIsInBhcnNlIiwiJCIsImVtcHR5IiwiZm9yRWFjaCIsInRvZG8iLCJhcHBlbmQiLCJ0ZXh0IiwibGVuZ3RoIiwiTnVtYmVyIiwiZG9jdW1lbnQiLCJyZWFkeSIsImNsaWNrIiwidmFsIiwicHVzaCIsImlzQ29tcGxldGVkIiwib24iLCJlIiwiJGl0ZW0iLCJ0YXJnZXQiLCJpdGVtSUQiLCJwYXJlbnQiLCJhdHRyIiwibWFwIiwiaXRlbUlkIiwiZmlsdGVyIiwic2hvdyIsImhpZGUiXSwibWFwcGluZ3MiOiJBQUFBLElBQUlBLE1BQVEsR0FDUkMsR0FBSyxFQUVULFNBQVNDLFVBQ1BDLE9BQU9DLGFBQWFDLFFBQVEsVUFBV0MsS0FBS0MsVUFBVVAsUUFHeEQsU0FBU1EsV0FDUCxNQUFNQyxFQUFXTixPQUFPQyxhQUFhTSxRQUFRLFdBQ3pDRCxJQUNGVCxNQUFRTSxLQUFLSyxNQUFNRixHQUNuQkcsRUFBRSxTQUFTQyxRQUNYYixNQUFNYyxRQUFTQyxJQUNiSCxFQUFFLFNBQVNJLGdDQUNpQkQsRUFBZ0IsWUFBSSxjQUFnQixlQUFlQSxFQUFLZCxpREFDOUNjLEVBQWdCLFlBQUksSUFBTSx5REFDMUJBLEVBQUtFLHFGQUN3QkYsRUFBZ0IsWUFBSSxTQUFXLDBIQUtwR2QsR0FBdUIsSUFBakJELE1BQU1rQixPQUFnQixFQUFJQyxPQUFPbkIsTUFBTUEsTUFBTWtCLE9BQVMsR0FBR2pCLElBQU0sR0FJekVXLEVBQUVRLFVBQVVDLE1BQU0sS0FHaEJiLFdBRUFJLEVBQUUsU0FBU1UsTUFBTSxLQUNmLE1BQU1MLEVBQU9MLEVBQUUscUJBQXFCVyxNQUNwQ3ZCLE1BQU13QixLQUNKLENBQ0VQLEtBQUFBLEVBQ0FRLGFBQWEsRUFDYnhCLEdBQUFBLEtBR0pDLFVBQ0FNLFdBQ0FJLEVBQUUscUJBQXFCVyxJQUFJLE1BRzdCWCxFQUFFLFNBQVNjLEdBQUcsUUFBUyxxQkFBdUJDLElBQzVDLE1BQU1DLEVBQVFoQixFQUFFZSxFQUFFRSxRQUNaQyxFQUFTWCxPQUFPUyxFQUFNRyxTQUFTQyxLQUFLLFlBQzFDaEMsTUFBUUEsTUFBTWlDLElBQUtsQixHQUNiQSxFQUFLZCxLQUFPNkIsRUFDUGYsRUFFRixJQUNGQSxFQUNIVSxhQUFjVixFQUFLVSxjQUd2QnZCLFVBQ0FNLGFBR0ZJLEVBQUUsU0FBU2MsR0FBRyxRQUFTLHNCQUF3QkMsSUFDN0MsTUFDTU8sRUFEUXRCLEVBQUVlLEVBQUVFLFFBQ0dFLFNBQVNDLEtBQUssV0FDbkNoQyxNQUFRQSxNQUFNbUMsT0FBUXBCLEdBQVNBLEVBQUtkLEtBQU9rQixPQUFPZSxJQUNsRGhDLFVBQ0FNLGFBR0ZJLEVBQUUsZ0JBQWdCVSxNQUFNLEtBQ3RCVixFQUFFLGNBQWN3QixTQUVsQnhCLEVBQUUsd0JBQXdCVSxNQUFNLEtBQzlCVixFQUFFLGNBQWN5QixPQUNoQnpCLEVBQUUsMEJBQTBCd0IsU0FFOUJ4QixFQUFFLHdCQUF3QlUsTUFBTSxLQUM5QlYsRUFBRSxjQUFjeUIsT0FDaEJ6QixFQUFFLGdDQUFnQ3dCIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsibGV0IHRvZG9zID0gW107XG5sZXQgaWQgPSAwO1xuXG5mdW5jdGlvbiBzZXREYXRhKCkge1xuICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3RvZG9BcHAnLCBKU09OLnN0cmluZ2lmeSh0b2RvcykpO1xufVxuXG5mdW5jdGlvbiBzaG93VG9kbygpIHtcbiAgY29uc3QgdG9kb0RhdGEgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3RvZG9BcHAnKTtcbiAgaWYgKHRvZG9EYXRhKSB7XG4gICAgdG9kb3MgPSBKU09OLnBhcnNlKHRvZG9EYXRhKTtcbiAgICAkKCcubGlzdCcpLmVtcHR5KCk7XG4gICAgdG9kb3MuZm9yRWFjaCgodG9kbykgPT4ge1xuICAgICAgJCgnLmxpc3QnKS5hcHBlbmQoXG4gICAgICAgIGA8ZGl2IGNsYXNzPVwibGlzdC1pdGVtICR7KHRvZG8uaXNDb21wbGV0ZWQpID8gJ2lzQ29tcGxldGVkJyA6ICcnfVwiIGRhdGEtaWQ9JHt0b2RvLmlkfT5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cImxpc3QtaXRlbV9fc3RhdGVcIj4keyh0b2RvLmlzQ29tcGxldGVkKSA/ICdPJyA6ICdYJ308L3NwYW4+XG4gICAgICAgICAgPHByZSBjbGFzcz1cImxpc3QtaXRlbV9fY29udGVudFwiPiR7dG9kby50ZXh0fTwvcHJlPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJsaXN0LWl0ZW1fX2FjdGlvbiAgbGlzdC1pdGVtX19idXR0b24gYnV0dG9uXCI+JHsodG9kby5pc0NvbXBsZXRlZCkgPyAn5qiZ56S65oiQ5pyq5a6M5oiQJyA6ICfmqJnnpLrmiJDlt7LlrozmiJAnfTwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJsaXN0LWl0ZW1fX2RlbGV0ZWQgbGlzdC1pdGVtX19idXR0b24gYnV0dG9uXCI+5Yiq6ZmkPC9idXR0b24+XG4gICAgICAgIDwvZGl2PmAsXG4gICAgICApO1xuICAgIH0pO1xuICAgIGlkID0gKHRvZG9zLmxlbmd0aCA9PT0gMCkgPyAwIDogTnVtYmVyKHRvZG9zW3RvZG9zLmxlbmd0aCAtIDFdLmlkKSArIDE7XG4gIH1cbn1cblxuJChkb2N1bWVudCkucmVhZHkoKCkgPT4ge1xuICAvLyBsb2NhbFN0b3JhZ2UuY2xlYXIoKTtcbiAgLy8gc2hvdyB0b2RvXG4gIHNob3dUb2RvKCk7XG4gIC8vIGFkZCBsaXN0XG4gICQoJy5zZW5kJykuY2xpY2soKCkgPT4ge1xuICAgIGNvbnN0IHRleHQgPSAkKCcuaW5wdXRbbmFtZT10b2RvXScpLnZhbCgpO1xuICAgIHRvZG9zLnB1c2goXG4gICAgICB7XG4gICAgICAgIHRleHQsXG4gICAgICAgIGlzQ29tcGxldGVkOiBmYWxzZSxcbiAgICAgICAgaWQsXG4gICAgICB9LFxuICAgICk7XG4gICAgc2V0RGF0YSgpO1xuICAgIHNob3dUb2RvKCk7XG4gICAgJCgnLmlucHV0W25hbWU9dG9kb10nKS52YWwoJycpO1xuICB9KTtcbiAgLy8gdG9nZ2xlIGNvbXBsZXRlZFxuICAkKCcubGlzdCcpLm9uKCdjbGljaycsICcubGlzdC1pdGVtX19hY3Rpb24nLCAoZSkgPT4ge1xuICAgIGNvbnN0ICRpdGVtID0gJChlLnRhcmdldCk7XG4gICAgY29uc3QgaXRlbUlEID0gTnVtYmVyKCRpdGVtLnBhcmVudCgpLmF0dHIoJ2RhdGEtaWQnKSk7XG4gICAgdG9kb3MgPSB0b2Rvcy5tYXAoKHRvZG8pID0+IHtcbiAgICAgIGlmICh0b2RvLmlkICE9PSBpdGVtSUQpIHtcbiAgICAgICAgcmV0dXJuIHRvZG87XG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi50b2RvLFxuICAgICAgICBpc0NvbXBsZXRlZDogIXRvZG8uaXNDb21wbGV0ZWQsXG4gICAgICB9O1xuICAgIH0pO1xuICAgIHNldERhdGEoKTtcbiAgICBzaG93VG9kbygpO1xuICB9KTtcbiAgLy8gZGVsZXRlZCBpdGVtXG4gICQoJy5saXN0Jykub24oJ2NsaWNrJywgJy5saXN0LWl0ZW1fX2RlbGV0ZWQnLCAoZSkgPT4ge1xuICAgIGNvbnN0ICRpdGVtID0gJChlLnRhcmdldCk7XG4gICAgY29uc3QgaXRlbUlkID0gJGl0ZW0ucGFyZW50KCkuYXR0cignZGF0YS1pZCcpO1xuICAgIHRvZG9zID0gdG9kb3MuZmlsdGVyKCh0b2RvKSA9PiB0b2RvLmlkICE9PSBOdW1iZXIoaXRlbUlkKSk7XG4gICAgc2V0RGF0YSgpO1xuICAgIHNob3dUb2RvKCk7XG4gIH0pO1xuICAvLyBmaWx0ZXIgaXNDb21wbGV0ZWQgb3IgdW5jb21wbGV0ZWRcbiAgJCgnLmZpbHRlcl9fYWxsJykuY2xpY2soKCkgPT4ge1xuICAgICQoJy5saXN0LWl0ZW0nKS5zaG93KCk7XG4gIH0pO1xuICAkKCcuZmlsdGVyX19pc0NvbXBsZXRlZCcpLmNsaWNrKCgpID0+IHtcbiAgICAkKCcubGlzdC1pdGVtJykuaGlkZSgpO1xuICAgICQoJy5saXN0LWl0ZW0uaXNDb21wbGV0ZWQnKS5zaG93KCk7XG4gIH0pO1xuICAkKCcuZmlsdGVyX191bmNvbXBsZXRlZCcpLmNsaWNrKCgpID0+IHtcbiAgICAkKCcubGlzdC1pdGVtJykuaGlkZSgpO1xuICAgICQoJy5saXN0LWl0ZW06bm90KC5pc0NvbXBsZXRlZCknKS5zaG93KCk7XG4gIH0pO1xufSk7XG4iXX0=
