class Calculator{constructor(e,t){this.previousOperandTextElement=e,this.currentOperandTextElement=t,this.clear()}clear(){this.previousOperand="",this.currentOperand="",this.operator=""}delete(){this.currentOperand=this.currentOperand.toString().slice(0,-1)}compute(){let e;const t=parseFloat(this.previousOperand),r=parseFloat(this.currentOperand);if(!isNaN(t)&&!isNaN(r)){switch(this.operator){case"รท":case"/":e=t/r;break;case"ร":case"*":e=t*r;break;case"+":e=t+r;break;case"-":e=t-r;break;case"%":e=t%r;break;default:return}this.currentOperand=e,this.previousOperand=this.operator=""}}appendNumber(e){"."===e&&this.currentOperand.toString().includes(e)||(this.currentOperand=this.currentOperand.toString()+e.toString())}chooseOperator(e){""!==this.currentOperand?(""!==this.previousOperand&&this.compute(),this.operator=e,this.previousOperand=this.currentOperand,this.currentOperand=""):isNaN(parseFloat(this.previousOperand))||(this.operator=e)}getDisplayNumber(e){const t=e.toString();let r,a=parseFloat(t.split(".")[0]),n=t.split(".")[1];return r=isNaN(a)?"":a.toLocaleString("en",{maximumFractionDigits:0}),null!=n?`${r}.${n}`:r}updateDisplay(){this.currentOperandTextElement.innerText=this.getDisplayNumber(this.currentOperand),this.previousOperandTextElement.innerText=`${this.getDisplayNumber(this.previousOperand)} ${this.operator}`}}const numberButtons=document.querySelectorAll("[data-number]"),operatorButtons=document.querySelectorAll("[data-operator]"),deleteButton=document.querySelector("[data-delete]"),clearButton=document.querySelector("[data-clear]"),equalsButton=document.querySelector("[data-equals]"),previousOperandText=document.querySelector("[data-previous-operand]"),currentOperandText=document.querySelector("[data-current-operand]"),calculator=new Calculator(previousOperandText,currentOperandText);numberButtons.forEach(e=>{e.addEventListener("click",()=>{calculator.appendNumber(e.innerText),calculator.updateDisplay()})}),operatorButtons.forEach(e=>{e.addEventListener("click",()=>{calculator.chooseOperator(e.innerText),calculator.updateDisplay()})}),equalsButton.addEventListener("click",()=>{calculator.compute(),calculator.updateDisplay()}),clearButton.addEventListener("click",()=>{calculator.clear(),calculator.updateDisplay()}),deleteButton.addEventListener("click",()=>{calculator.delete(),calculator.updateDisplay()});const numberArr=["1","2","3","4","5","6","7","8","9","0","."];document.addEventListener("keydown",(function(e){numberArr.includes(e.key)?calculator.appendNumber(e.key):"Backspace"===e.key?calculator.delete():"-"===e.key||"/"===e.key||e.shiftKey&&("+"===e.key||"*"===e.key||"%"===e.key)?calculator.chooseOperator(e.key):"Enter"!==e.key&&"="!==e.key||calculator.compute(),calculator.updateDisplay(),console.log(e)}));
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIkNhbGN1bGF0b3IiLCJbb2JqZWN0IE9iamVjdF0iLCJwcmV2aW91c09wZXJhbmRUZXh0RWxlbWVudCIsImN1cnJlbnRPcGVyYW5kVGV4dEVsZW1lbnQiLCJ0aGlzIiwiY2xlYXIiLCJwcmV2aW91c09wZXJhbmQiLCJjdXJyZW50T3BlcmFuZCIsIm9wZXJhdG9yIiwidG9TdHJpbmciLCJzbGljZSIsInJlc3VsdCIsInByZXYiLCJwYXJzZUZsb2F0IiwiY3VycmVudCIsImlzTmFOIiwibnVtYmVyIiwiaW5jbHVkZXMiLCJjb21wdXRlIiwic3RyaW5nTnVtYmVyIiwiaW50ZWdlckRpc3BsYXkiLCJpbnRlZ2VyRGlnaXRzIiwic3BsaXQiLCJkZWNpbWFsRGlnaXRzIiwidG9Mb2NhbGVTdHJpbmciLCJtYXhpbXVtRnJhY3Rpb25EaWdpdHMiLCJpbm5lclRleHQiLCJnZXREaXNwbGF5TnVtYmVyIiwibnVtYmVyQnV0dG9ucyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsIm9wZXJhdG9yQnV0dG9ucyIsImRlbGV0ZUJ1dHRvbiIsInF1ZXJ5U2VsZWN0b3IiLCJjbGVhckJ1dHRvbiIsImVxdWFsc0J1dHRvbiIsInByZXZpb3VzT3BlcmFuZFRleHQiLCJjdXJyZW50T3BlcmFuZFRleHQiLCJjYWxjdWxhdG9yIiwiZm9yRWFjaCIsImJ1dHRvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJhcHBlbmROdW1iZXIiLCJ1cGRhdGVEaXNwbGF5IiwiY2hvb3NlT3BlcmF0b3IiLCJkZWxldGUiLCJudW1iZXJBcnIiLCJlIiwia2V5Iiwic2hpZnRLZXkiLCJjb25zb2xlIiwibG9nIl0sIm1hcHBpbmdzIjoiQUFFQSxNQUFNQSxXQUNKQyxZQUFZQyxFQUE0QkMsR0FDdENDLEtBQUtGLDJCQUE2QkEsRUFDbENFLEtBQUtELDBCQUE0QkEsRUFDakNDLEtBQUtDLFFBR1BKLFFBQ0VHLEtBQUtFLGdCQUFrQixHQUN2QkYsS0FBS0csZUFBaUIs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RUMsS0FDUSxNQUFWRCxFQUFFQyxLQUNERCxFQUFFRSxXQUF1QixNQUFWRixFQUFFQyxLQUF5QixNQUFWRCxFQUFFQyxLQUF5QixNQUFWRCxFQUFFQyxLQUVwRFYsV0FBV00sZUFBZUcsRUFBRUMsS0FDVCxVQUFWRCxFQUFFQyxLQUE2QixNQUFWRCxFQUFFQyxLQUNoQ1YsV0FBV3BCLFVBRWJvQixXQUFXSyxnQkFDWE8sUUFBUUMsSUFBSUoiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyIvL3R1dG9yaWFsOiBodHRwczovL3d3dy55b3V0dWJlLmNvbS93YXRjaD92PWo1OXFRN1lXTHh3Jmxpc3Q9TExIa0R3RzcwSVBjZEh4VU9RRVhmWk13XG5cbmNsYXNzIENhbGN1bGF0b3Ige1xuICBjb25zdHJ1Y3RvcihwcmV2aW91c09wZXJhbmRUZXh0RWxlbWVudCwgY3VycmVudE9wZXJhbmRUZXh0RWxlbWVudCkge1xuICAgIHRoaXMucHJldmlvdXNPcGVyYW5kVGV4dEVsZW1lbnQgPSBwcmV2aW91c09wZXJhbmRUZXh0RWxlbWVudDtcbiAgICB0aGlzLmN1cnJlbnRPcGVyYW5kVGV4dEVsZW1lbnQgPSBjdXJyZW50T3BlcmFuZFRleHRFbGVtZW50O1xuICAgIHRoaXMuY2xlYXIoKTtcbiAgfVxuXG4gIGNsZWFyKCkge1xuICAgIHRoaXMucHJldmlvdXNPcGVyYW5kID0gXCJcIjtcbiAgICB0aGlzLmN1cnJlbnRPcGVyYW5kID0gXCJcIjtcbiAgICB0aGlzLm9wZXJhdG9yID0gXCJcIjtcbiAgfVxuXG4gIGRlbGV0ZSgpIHtcbiAgICB0aGlzLmN1cnJlbnRPcGVyYW5kID0gdGhpcy5jdXJyZW50T3BlcmFuZC50b1N0cmluZygpLnNsaWNlKDAsIC0xKTtcbiAgfVxuXG4gIGNvbXB1dGUoKSB7XG4gICAgbGV0IHJlc3VsdDtcbiAgICBjb25zdCBwcmV2ID0gcGFyc2VGbG9hdCh0aGlzLnByZXZpb3VzT3BlcmFuZCk7XG4gICAgY29uc3QgY3VycmVudCA9IHBhcnNlRmxvYXQodGhpcy5jdXJyZW50T3BlcmFuZCk7XG4gICAgaWYgKGlzTmFOKHByZXYpIHx8IGlzTmFOKGN1cnJlbnQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHN3aXRjaCAodGhpcy5vcGVyYXRvcikge1xuICAgICAgY2FzZSBcIsO3XCI6XG4gICAgICAgIHJlc3VsdCA9IHByZXYgLyBjdXJyZW50O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCIvXCI6IC8vZm9yIGtleWJvYXJkXG4gICAgICAgIHJlc3VsdCA9IHByZXYgLyBjdXJyZW50O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCLDl1wiOlxuICAgICAgICByZXN1bHQgPSBwcmV2ICogY3VycmVudDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiKlwiOiAvL2ZvciBrZXlib2FyZFxuICAgICAgICByZXN1bHQgPSBwcmV2ICogY3VycmVudDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiK1wiOlxuICAgICAgICByZXN1bHQgPSBwcmV2ICsgY3VycmVudDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiLVwiOlxuICAgICAgICByZXN1bHQgPSBwcmV2IC0gY3VycmVudDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiJVwiOlxuICAgICAgICByZXN1bHQgPSBwcmV2ICUgY3VycmVudDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuY3VycmVudE9wZXJhbmQgPSByZXN1bHQ7XG4gICAgdGhpcy5wcmV2aW91c09wZXJhbmQgPSB0aGlzLm9wZXJhdG9yID0gXCJcIjtcbiAgfVxuXG4gIGFwcGVuZE51bWJlcihudW1iZXIpIHtcbiAgICBpZiAobnVtYmVyID09PSBcIi5cIiAmJiB0aGlzLmN1cnJlbnRPcGVyYW5kLnRvU3RyaW5nKCkuaW5jbHVkZXMobnVtYmVyKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmN1cnJlbnRPcGVyYW5kID0gdGhpcy5jdXJyZW50T3BlcmFuZC50b1N0cmluZygpICsgbnVtYmVyLnRvU3RyaW5nKCk7XG4gIH1cblxuICBjaG9vc2VPcGVyYXRvcihvcGVyYXRvcikge1xuICAgIGlmICh0aGlzLmN1cnJlbnRPcGVyYW5kID09PSBcIlwiKSB7XG4gICAgICBpZiAoIWlzTmFOKHBhcnNlRmxvYXQodGhpcy5wcmV2aW91c09wZXJhbmQpKSkge1xuICAgICAgICB0aGlzLm9wZXJhdG9yID0gb3BlcmF0b3I7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0aGlzLnByZXZpb3VzT3BlcmFuZCAhPT0gXCJcIikge1xuICAgICAgdGhpcy5jb21wdXRlKCk7XG4gICAgfVxuICAgIHRoaXMub3BlcmF0b3IgPSBvcGVyYXRvcjtcbiAgICB0aGlzLnByZXZpb3VzT3BlcmFuZCA9IHRoaXMuY3VycmVudE9wZXJhbmQ7XG4gICAgdGhpcy5jdXJyZW50T3BlcmFuZCA9IFwiXCI7XG4gIH1cblxuICBnZXREaXNwbGF5TnVtYmVyKG51bWJlcikge1xuICAgIGNvbnN0IHN0cmluZ051bWJlciA9IG51bWJlci50b1N0cmluZygpO1xuICAgIGxldCBpbnRlZ2VyRGlnaXRzID0gcGFyc2VGbG9hdChzdHJpbmdOdW1iZXIuc3BsaXQoXCIuXCIpWzBdKTtcbiAgICBsZXQgZGVjaW1hbERpZ2l0cyA9IHN0cmluZ051bWJlci5zcGxpdChcIi5cIilbMV07XG4gICAgbGV0IGludGVnZXJEaXNwbGF5O1xuICAgIGlmIChpc05hTihpbnRlZ2VyRGlnaXRzKSkge1xuICAgICAgaW50ZWdlckRpc3BsYXkgPSBcIlwiO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbnRlZ2VyRGlzcGxheSA9IGludGVnZXJEaWdpdHMudG9Mb2NhbGVTdHJpbmcoXCJlblwiLCB7XG4gICAgICAgIG1heGltdW1GcmFjdGlvbkRpZ2l0czogMFxuICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChkZWNpbWFsRGlnaXRzICE9IG51bGwpIHtcbiAgICAgIHJldHVybiBgJHtpbnRlZ2VyRGlzcGxheX0uJHtkZWNpbWFsRGlnaXRzfWA7XG4gICAgfVxuICAgIHJldHVybiBpbnRlZ2VyRGlzcGxheTtcbiAgfVxuXG4gIHVwZGF0ZURpc3BsYXkoKSB7XG4gICAgdGhpcy5jdXJyZW50T3BlcmFuZFRleHRFbGVtZW50LmlubmVyVGV4dCA9IHRoaXMuZ2V0RGlzcGxheU51bWJlcihcbiAgICAgIHRoaXMuY3VycmVudE9wZXJhbmRcbiAgICApO1xuICAgIHRoaXMucHJldmlvdXNPcGVyYW5kVGV4dEVsZW1lbnQuaW5uZXJUZXh0ID0gYCR7dGhpcy5nZXREaXNwbGF5TnVtYmVyKFxuICAgICAgdGhpcy5wcmV2aW91c09wZXJhbmRcbiAgICApfSAke3RoaXMub3BlcmF0b3J9YDtcbiAgfVxufVxuXG5jb25zdCBudW1iZXJCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIltkYXRhLW51bWJlcl1cIik7XG5jb25zdCBvcGVyYXRvckJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiW2RhdGEtb3BlcmF0b3JdXCIpO1xuY29uc3QgZGVsZXRlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIltkYXRhLWRlbGV0ZV1cIik7XG5jb25zdCBjbGVhckJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJbZGF0YS1jbGVhcl1cIik7XG5jb25zdCBlcXVhbHNCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiW2RhdGEtZXF1YWxzXVwiKTtcbmNvbnN0IHByZXZpb3VzT3BlcmFuZFRleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiW2RhdGEtcHJldmlvdXMtb3BlcmFuZF1cIik7XG5jb25zdCBjdXJyZW50T3BlcmFuZFRleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiW2RhdGEtY3VycmVudC1vcGVyYW5kXVwiKTtcblxuY29uc3QgY2FsY3VsYXRvciA9IG5ldyBDYWxjdWxhdG9yKHByZXZpb3VzT3BlcmFuZFRleHQsIGN1cnJlbnRPcGVyYW5kVGV4dCk7XG5cbm51bWJlckJ1dHRvbnMuZm9yRWFjaChidXR0b24gPT4ge1xuICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICBjYWxjdWxhdG9yLmFwcGVuZE51bWJlcihidXR0b24uaW5uZXJUZXh0KTtcbiAgICBjYWxjdWxhdG9yLnVwZGF0ZURpc3BsYXkoKTtcbiAgfSk7XG59KTtcblxub3BlcmF0b3JCdXR0b25zLmZvckVhY2goYnV0dG9uID0+IHtcbiAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgY2FsY3VsYXRvci5jaG9vc2VPcGVyYXRvcihidXR0b24uaW5uZXJUZXh0KTtcbiAgICBjYWxjdWxhdG9yLnVwZGF0ZURpc3BsYXkoKTtcbiAgfSk7XG59KTtcblxuZXF1YWxzQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGNhbGN1bGF0b3IuY29tcHV0ZSgpO1xuICBjYWxjdWxhdG9yLnVwZGF0ZURpc3BsYXkoKTtcbn0pO1xuXG5jbGVhckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBjYWxjdWxhdG9yLmNsZWFyKCk7XG4gIGNhbGN1bGF0b3IudXBkYXRlRGlzcGxheSgpO1xufSk7XG5cbmRlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBjYWxjdWxhdG9yLmRlbGV0ZSgpO1xuICBjYWxjdWxhdG9yLnVwZGF0ZURpc3BsYXkoKTtcbn0pO1xuXG5jb25zdCBudW1iZXJBcnIgPSBbXCIxXCIsIFwiMlwiLCBcIjNcIiwgXCI0XCIsIFwiNVwiLCBcIjZcIiwgXCI3XCIsIFwiOFwiLCBcIjlcIiwgXCIwXCIsIFwiLlwiXTtcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGZ1bmN0aW9uKGUpIHtcbiAgaWYgKG51bWJlckFyci5pbmNsdWRlcyhlLmtleSkpIHtcbiAgICBjYWxjdWxhdG9yLmFwcGVuZE51bWJlcihlLmtleSk7XG4gIH0gZWxzZSBpZiAoZS5rZXkgPT09IFwiQmFja3NwYWNlXCIpIHtcbiAgICBjYWxjdWxhdG9yLmRlbGV0ZSgpO1xuICB9IGVsc2UgaWYgKFxuICAgIGUua2V5ID09PSBcIi1cIiB8fFxuICAgIGUua2V5ID09PSBcIi9cIiB8fFxuICAgIChlLnNoaWZ0S2V5ICYmIChlLmtleSA9PT0gXCIrXCIgfHwgZS5rZXkgPT09IFwiKlwiIHx8IGUua2V5ID09PSBcIiVcIikpXG4gICkge1xuICAgIGNhbGN1bGF0b3IuY2hvb3NlT3BlcmF0b3IoZS5rZXkpO1xuICB9IGVsc2UgaWYgKGUua2V5ID09PSBcIkVudGVyXCIgfHwgZS5rZXkgPT09IFwiPVwiKSB7XG4gICAgY2FsY3VsYXRvci5jb21wdXRlKCk7XG4gIH1cbiAgY2FsY3VsYXRvci51cGRhdGVEaXNwbGF5KCk7XG4gIGNvbnNvbGUubG9nKGUpO1xufSk7XG4iXX0=
